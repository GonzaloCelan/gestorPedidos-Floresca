/* =========================================================
   FLORESCA — estilos base + tablas con scroll y thead fijo
   (CSS LIMPIO / SIN DUPLICADOS)
   ========================================================= */

/* ============ TOKENS ============ */
:root{
  --bg:#f3f5f3;
  --panel:#ffffff;
  --panel-2:#eef3ef;
  --ink:#1f2937;
  --ink-2:#475569;
  --brand:#2f6a4f;
  --muted:#6b7280;

  --accent:#bcd1bb;         /* pestaña verde izquierda */

  --radius:12px;
  --shadow:0 6px 18px rgba(15,23,42,.10);
  --ring:0 0 0 3px rgba(47,106,79,.15);

  /* Scrollbar */
  --sb-w: 12px;
  --sb-track: #e7efe9;
  --sb-thumb: #bcd1c6;
  --sb-thumb-hover: #9bb8aa;

  /* Verde oliva del menú (unificado para headers) */
  --aside-olive:#bcd1bb;

  /* Aux */
  --ok:#2fa26a;
  --warn:#d9a441;
}

/* ============ RESET BÁSICO ============ */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

/* ============ LAYOUT ============ */
.app{
  display:grid;
  grid-template-columns:280px minmax(0,1fr);
  gap:0;
  min-height:100dvh;
}

/* Sidebar */
.sidebar{
  width:280px; min-height:100dvh;
  background:#ffffff;
  padding:28px 0px; position:sticky; top:0;
  box-shadow:none;
  border-right:1px solid #e5e7eb;
}
.logo{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.4rem;
  margin-bottom:40px;
}
.logo img{ max-width:140px; height:auto; display:block; }
.logo .h1{ margin:0; line-height:1.1; }

.nav{ display:flex; flex-direction:column; gap:10px }
.nav a{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:0; text-decoration:none;
  color:#000; background:#fff;
  border:0 solid #d8e3dc;
  transition:transform .05s ease, background .15s ease, color .15s ease;
  position:relative; padding-left:75px; font-weight:600;
}
.nav a:active{ transform:translateY(1px) }
.nav a.active{ background:#fff; color:#000; box-shadow:0 2px 12px rgba(0,0,0,.08) }
.nav a .icon{ width:22px; height:22px; display:inline-flex; align-items:center; justify-content:center; color:#707070 }
.nav a svg{ display:block }
.nav a::before{
  content:""; position:absolute; left:0; top:0; bottom:0; width:10px; background:transparent; transition:background .12s ease;
}
.nav a:hover{ background:#fff; box-shadow:0 2px 10px rgba(0,0,0,.06) }
.nav a:hover::before{ background:var(--accent) }
.nav a.active::before{ background:var(--accent) }

/* Main + Panel */
.main{ padding:0; min-width:0 }
.panel{
  border-radius:0;
  box-shadow:none;
  background:var(--panel);
  padding:28px 32px;
  border-left:1px solid #d8e3dc;
}
.view-root{ min-height:100vh }

/* ============ TITULARES ============ */
.header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:18px }
.h1{ font-size:28px; font-weight:700; letter-spacing:.3px }
.subtitle{ color:var(--ink-2) }
.h2{ font-size:18px; font-weight:700; margin:16px 0 8px; color:var(--ink) }

/* ============ KPIs ============ */
.kpis{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px }
.kpi{ background:var(--panel); border-radius:0; box-shadow:var(--shadow); padding:18px }
.kpi .label{
  margin:0 0 6px; font-size:13px; color:var(--ink-2);
  font-weight:600; letter-spacing:.04em; text-transform:uppercase;
}
.kpi .value{ font-size:32px; font-weight:700; color:var(--brand) }

/* ============ Inputs / Botones ============ */
.input{
  width:100%; background:var(--panel);
  border:1px solid #e6ece7; border-radius:0; padding:12px 14px; outline:none;
}
.input:focus{ box-shadow:var(--ring); border-color:transparent }
.btn{
  background:var(--brand); color:#fff; border:none; border-radius:0;
  padding:12px 16px; font-weight:600; cursor:pointer;
}
.btn:disabled{ opacity:.6; cursor:not-allowed }
.btn-sec{ background:#f6f8f6; border:1px solid #e6ece7; color:var(--ink); border-radius:0 }

/* ============ Recordatorios (post-its) ============ */
.reminders{ display:flex; gap:10px; align-items:center; margin:20px 0 8px }
#tareaLista{
  display:flex; flex-wrap:wrap; gap:12px; align-items:flex-start; padding:2px 0 8px; margin-top:20px;
}
.tarea{
  position:relative; width:180px; min-height:72px;
  padding:10px 28px 10px 12px;
  border-radius:12px; border:1px solid #f1e2a8;
  background:#fff7cc; color:#5a4e2b;
  box-shadow:0 6px 16px rgba(0,0,0,.08), inset 0 1px 0 rgba(255,255,255,.6);
  transform:rotate(var(--rot,0deg));
  transition:transform .15s ease, box-shadow .15s ease;
}
.tarea::before{
  content:""; position:absolute; left:40px; right:40px; top:-8px; height:14px;
  border-radius:4px; background:linear-gradient(180deg,#f5f5f5,#e8e8e8);
  box-shadow:0 2px 6px rgba(0,0,0,.06);
}
#tareaLista .tarea:nth-child(3n){ background:#fff3e1; border-color:#f2dfb9 }
#tareaLista .tarea:nth-child(3n+1){ background:#eafcf1; border-color:#cdebd9; color:#1f3b2e }
.tarea > span{
  display:-webkit-box; -webkit-line-clamp:5; -webkit-box-orient:vertical;
  overflow:hidden; line-height:1.35; word-break:break-word;
}
.tarea .acciones{ position:absolute; right:6px; top:6px }
.tarea .acciones button{ border:0; background:transparent; cursor:pointer; font-weight:700; color:#6b7280 }
.tarea:hover{ transform:rotate(0deg) translateY(-1px); box-shadow:0 10px 22px rgba(0,0,0,.10), inset 0 1px 0 rgba(255,255,255,.7) }

/* ============ Badges de estado ============ */
.badge{ padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700 }
.badge--pendiente{ background:#fff3cd; color:#8a6d3b }
.badge--proceso{ background:#d1fae5; color:#065f46 }
.badge--entregado{ background:#e0e7ff; color:#3730a3 }

/* ============ Acciones / Icon Buttons ============ */
.action{ display:flex; gap:8px }
.icon-btn,
.btn-ico{
  background:#eef3ef; border:1px solid #dfe8e2; border-radius:10px;
  padding:8px; cursor:pointer; display:inline-flex; align-items:center; justify-content:center;
  line-height:0; color:#1f2937; width:36px; height:36px; margin-inline:3px;
  transition: transform .08s ease, filter .15s ease;
}
.icon-btn:hover,
.btn-ico:hover{ border-color:#cfdad3; filter:brightness(.98); transform:translateY(-1px) }
.icon-btn svg,
.btn-ico svg{ width:18px; height:18px; stroke:currentColor; fill:#5a646e }
.btn-ico.btn-danger svg{ fill:#8a3b3b }

/* =========================================================
   TABLAS — scroll interno + thead fijo (Inicio, Materiales, Historial)
   ========================================================= */

/* Alturas máximas por vista */
#view-dashboard { --tbl-max: calc(100vh - 360px); }
#view-materiales{ --tbl-max: calc(100vh - 420px); }
#view-log       { --tbl-max: calc(100vh - 240px); }

/* Contenedor scrolleable (si lo usás) */
#view-dashboard .table,
#view-materiales .table,
#view-log .table{
  display:block;
  overflow:auto;
  max-height:var(--tbl-max, 60vh);
  scrollbar-gutter:stable both-edges;
  background:var(--panel);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

/* Tabla interna */
#view-dashboard .table > table,
#view-materiales .table > table,
#view-log .table > table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  table-layout:fixed;
}

/* Encabezado fijo (pinta el fondo el ::before) */
#view-dashboard thead,
#view-materiales thead,
#view-log thead{
  position:sticky; top:0; z-index:3;
}
#view-dashboard thead th,
#view-materiales thead th,
#view-log thead th{
  background:transparent; color:var(--ink-2); font-weight:600; padding:10px;
  border-bottom:1px solid transparent;
}

.pedidos thead th{padding:10px}
/* Fondo continuo del header — oliva */
#view-dashboard thead::before,
#view-materiales thead::before,
#view-log thead::before{
  content:""; position:absolute; inset:0;
  background:var(--aside-olive);
  z-index:-1;
}

/* Cuerpo */
#view-dashboard tbody td,
#view-materiales tbody td,
#view-log tbody td{
  padding:10px; border-bottom:1px solid #eef2ef;
}
#view-dashboard tbody tr:last-child td,
#view-materiales tbody tr:last-child td,
#view-log tbody tr:last-child td{ border-bottom:none; }

/* Scrollbars */
#view-dashboard .table::-webkit-scrollbar,
#view-materiales .table::-webkit-scrollbar,
#view-log .table::-webkit-scrollbar{ width:var(--sb-w) }
#view-dashboard .table::-webkit-scrollbar-track,
#view-materiales .table::-webkit-scrollbar-track,
#view-log .table::-webkit-scrollbar-track{ background:var(--sb-track) }
#view-dashboard .table::-webkit-scrollbar-thumb,
#view-materiales .table::-webkit-scrollbar-thumb,
#view-log .table::-webkit-scrollbar-thumb{ background:var(--sb-thumb) }
#view-dashboard .table::-webkit-scrollbar-thumb:hover,
#view-materiales .table::-webkit-scrollbar-thumb:hover,
#view-log .table::-webkit-scrollbar-thumb:hover{ background:var(--sb-thumb-hover) }
#view-dashboard .table,
#view-materiales .table,
#view-log .table{ scrollbar-width:thin; scrollbar-color:var(--sb-thumb) var(--sb-track) }

/* ===== Específico: TABLA de PEDIDOS (dashboard) ===== */
#view-dashboard .table{ border-radius:0 }
#view-dashboard thead::before{
  border-top-left-radius:0; border-top-right-radius:0;
}

.pedidos th:first-child,
.pedidos td:first-child,
.pedidos th:nth-child(2),
.pedidos td:nth-child(2),
.pedidos th:nth-child(3),
.pedidos td:nth-child(3), 
.pedidos th:nth-child(4),
.pedidos td:nth-child(4), 
.pedidos th:nth-child(5),
.pedidos td:nth-child(5), 
.pedidos th:last-child, 
.pedidos td:last-child { text-align: left; white-space: nowrap;}

/* ===== Alineaciones en Historial y Materiales ===== */
.historial th:first-child,
.historial td:first-child,
.historial th:nth-child(2),
.historial td:nth-child(2),
.historial th:nth-child(3),
.historial td:nth-child(3),
.historial th:nth-child(4),
.historial td:nth-child(4),
.historial th:nth-child(5),
.historial td:nth-child(5),
.historial th:nth-child(6),
.historial td:nth-child(6),
.historial th:last-child, 
.historial td:last-child { text-align: left; white-space: nowrap;}

.tabla.materiales th:first-child,
.tabla.materiales td:first-child,
.tabla.materiales th:nth-child(2),
.tabla.materiales td:nth-child(2),
.tabla.materiales th:nth-child(3),
.tabla.materiales td:nth-child(3),
.tabla.materiales th:nth-child(4),
.tabla.materiales td:nth-child(4),
.tabla.materiales th:nth-child(5),
.tabla.materiales td:nth-child(5),
.tabla.materiales th:nth-child(6),
.tabla.materiales td:nth-child(6),
.tabla.materiales th:last-child,
.tabla.materiales td:last-child{ text-align:left; white-space:nowrap;}

/* ===== Botón de estado en Pedidos ===== */
table.pedidos td:nth-child(5) .estado-btn{
  all: unset;
  display: inline-block;
  line-height: 1;
  cursor: default;
}
table.pedidos td:nth-child(5) .estado-btn:focus{ outline: none }

table.pedidos td:nth-child(5) .badge{
  display: inline-block;
  padding: 6px 10px;
  border-radius: 0;
  font-size: 12px;
  font-weight: 700;
  line-height: 1;
  border: 1px solid transparent;
}
table.pedidos td:nth-child(5) .badge--pendiente{
  background: color-mix(in srgb, var(--warn) 20%, white);
  border-color: color-mix(in srgb, var(--warn) 35%, white);
  color: #5d4517;
}
table.pedidos td:nth-child(5) .badge--proceso{
  background: color-mix(in srgb, var(--ok) 20%, white);
  border-color: color-mix(in srgb, var(--ok) 35%, white);
  color: #0f5132;
}
table.pedidos td:nth-child(5) .badge--entregado{
  background: #e0f7ff;
  border-color: #c7cffd;
  color: #374151;
}
table.pedidos td:nth-child(5) .control-estado{ display:none; pointer-events:none; }
table.pedidos td:nth-child(5).is-editing .badge{ display:none }
table.pedidos td:nth-child(5).is-editing .control-estado{ display:inline-block; pointer-events:auto; }

/* =========================================================
   GENERAR PEDIDO — (Cliente/Fecha + items dinámicos)
   ========================================================= */
#view-pedido .pedido-items{
  margin-top:16px;
  background:var(--panel);
  border:1px solid #e6ece7;
  border-radius:0;
  padding:14px;
}
#view-pedido .pedido-items__head{
  display:flex; align-items:center; justify-content:space-between;
  padding:4px 2px 10px 2px; border-bottom:1px solid #e9efeb;
}
#view-pedido .pedido-items__head h3{ margin:0; font-size:16px; font-weight:700; color:var(--ink) }
#addItemBtn{ padding:10px 12px }
#view-pedido .pedido-items__labels{
  color:var(--ink-2); font-weight:600; font-size:.95rem; padding:10px 2px 8px 2px;
}
#view-pedido .pedido-items__grid{
  display:grid; grid-template-columns: 3fr .9fr 1.4fr 1.2fr 44px; gap:12px; align-items:center;
}
#view-pedido .pedido-items__list{ display:grid }
#view-pedido .pedido-item{ padding:10px 0; border-bottom:1px dashed #e6ece7 }
#view-pedido .pedido-item:last-child{ border-bottom:none }
#view-pedido .pedido-item .input[readonly]{ background:#f3f5f3; color:#334155 }
#view-pedido .pedido-items__footer{ margin-top:12px; display:flex; justify-content:flex-end }
#view-pedido .pedido-total{ display:inline-flex; gap:10px; align-items:center; background:#f6faf7; border:1px solid #e6ece7; padding:8px 12px }
#totalPedido{ font-weight:700 }
.btn-icon{ width:40px; height:40px; display:grid; place-items:center; padding:0 }
.btn-danger{ background:#ffecec; color:#7a1d1d; border:1px solid #ffc7c7 }

@media (max-width: 860px){
  #view-pedido .pedido-items__labels{ display:none }
  #view-pedido .pedido-items__grid{ grid-template-columns: 1fr 1fr; gap:10px }
  #view-pedido .pedido-item [data-field="producto"]{ grid-column:1 / -1 }
  #view-pedido .pedido-item [data-field="totalLinea"]{ grid-column:1 / 2 }
  #view-pedido .pedido-item [data-action="remove"]{ justify-self:end }
}

/* ===================== HISTORIAL: toolbar acciones ===================== */
.historial-actions{ display:flex; gap:10px; align-items:center; margin:6px 0 12px 0; }

/* =========================================================
   MODALES (global): rectos + look plano
   ========================================================= */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  display:flex; align-items:center; justify-content:center; z-index:1000;
}
.modal-backdrop.hidden{ display:none }
.modal{
  background:#fff; border:1px solid #e6ece7; border-radius:0; box-shadow:0 16px 50px rgba(0,0,0,.18);
  width:min(820px,92vw);
}
.modal-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 18px; border-bottom:1px solid #e9efeb;
}
.modal h3{ margin:0; color:var(--ink) }
.modal-close{ background:transparent; border:0; font-size:26px; line-height:1; cursor:pointer; color:var(--ink); border-radius:0 }
.modal-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:16px 18px }
.modal-actions{ display:flex; gap:10px; justify-content:flex-end; padding:0 18px 18px }
.modal .input, .modal select, .modal textarea{ height:40px; border-radius:0; border:1px solid #dbe2dd; background:#fff }
.modal .btn, .modal .btn-sec, .modal .btn-ghost, .modal .btn.btn-danger, .modal .btn-icon{ border-radius:0 }

/* =========================================================
   SOLO MODAL DE VENTA (#modalVenta): bloque productos integrado
   (NO toca “Generar pedido”)
   ========================================================= */
#modalVenta .pedido-items{ background:#fff; border:0; padding:0 }
#modalVenta .pedido-items__head{ padding:0 0 10px 0; border:0 }
#modalVenta .pedido-items__labels{ background:#fff; border:0; padding:8px 0 6px; margin:0 }
#modalVenta .pedido-items__grid{ grid-template-columns:2fr 110px 170px 150px 42px; gap:10px }
#modalVenta .pedido-items__list{ gap:8px }
#modalVenta .pedido-item{ background:transparent; border:0; border-radius:0; padding:0 }
#modalVenta .pedido-item .input{ height:38px; border-radius:0; background:#fff }
#modalVenta .pedido-item input[readonly]{ background:#fff }
#modalVenta .btn-icon{ width:38px; height:38px; border-radius:0; border:1px solid #e5e5e5; background:#fff }
#modalVenta .pedido-items__footer{ padding:12px 0 0 0 }
#modalVenta .pedido-total{ background:transparent; border:0; padding:0; font-weight:600 }

/* =========================================================
   SOLO TABLA DEL HISTORIAL (#view-log): limpia e integrada
   ========================================================= */
#view-log .tabla-card{ background:#fff; }
#view-log .tabla.historial{ border-collapse:separate; border-spacing:0; }
#view-log .tabla.historial thead th{
  background:#fff; color:#28493a; font-weight:600; padding:10px 12px;
  border-top:1px solid #e6eae7; border-bottom:1px solid #e6eae7; border-left:0; border-right:0;
}
#view-log .tabla.historial tbody td{
  padding:12px 12px; border-bottom:1px solid #f1f3f1; border-left:0; border-right:0; vertical-align:middle;
}
#view-log .tabla.historial tbody tr:hover{ background:#fafcfb; }
#view-log .tabla.historial th:nth-child(5),
#view-log .tabla.historial td:nth-child(5),
#view-log .tabla.historial th:last-child,
#view-log .tabla.historial td:last-child{ text-align:right; }
#view-log .row-empty td{ padding:22px 12px; color:var(--ink-2); }

/* =========================================================
   Vistas (tu JS añade/quita .hidden / .is-visible)
   ========================================================= */
.view-root.hidden{ display:none }
.view-root.is-visible{ display:block }

/* ============ Responsive generales ============ */
@media (max-width:1100px){
  .kpis{ grid-template-columns:1fr 1fr }
}
@media (max-width:860px){
  .app{ grid-template-columns:1fr }
  .sidebar{ position:relative; width:auto; min-height:auto; border-radius:0 0 var(--radius) var(--radius) }
  .main{ padding:18px }
  .kpis{ grid-template-columns:1fr }
  .modal-grid{ grid-template-columns:1fr }
}

/* ======= NOTEBOOK RESPONSIVE — Gestor Floresca ======= */
@media (max-width: 1440px) {
  :root{
    --gap: max(14px, 1.2vw);
    --radius: 12px;
    --shadow: 0 6px 18px rgba(0,0,0,.08);
  }
  body { font-size: 14px }
  h1 { font-size: clamp(20px, 2.2vw, 28px); line-height: 1.2 }
  h2 { font-size: clamp(16px, 1.7vw, 22px) }
  .content { padding: calc(var(--gap) * .75) }
  .section { padding: 12px 14px }
  .section-header { margin-bottom: 10px; font-size: clamp(14px,1.4vw,18px) }

  .cards-grid{
    display: grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: var(--gap);
  }
  .card{ padding: 12px; border-radius: var(--radius) }

  .form-grid{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: calc(var(--gap) * .75);
  }
  .form-grid .form-row{ gap: 8px }
  .form-grid input,
  .form-grid select,
  .form-grid textarea{ padding: 8px 10px }

  .btn{ padding: 8px 12px; border-radius: 0; font-size: 14px }

  .table-wrap,
  #tabla-pedidos-wrap,
  #tabla-materiales-wrap,
  #tabla-historial-wrap{
    --hdr: 56px; --filters: 78px; --footer: 0px;
    max-height: calc(100vh - var(--hdr) - var(--filters) - var(--footer) - 24px);
    overflow: auto; border-radius: var(--radius);
  }

  table, table.data, table.tabla{
    font-size: 13px; border-collapse: separate; border-spacing: 0; width: 100%;
  }
  thead th{ position: sticky; top:0; z-index:1 }
  th, td{ padding: 8px 10px; vertical-align: middle }

  .col-nb-hide{ display:none }
  .col-nb-tight{ width:1%; white-space:nowrap }
  .td-clip{ max-width: 280px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
}

@media (max-width: 1280px){
  .cards-grid{ grid-template-columns: 1fr }
  .form-grid{ grid-template-columns: 1fr }
  .aside{ width: 64px }
  .only-desktop{ display:none !important }
}
@media (max-height: 800px){
  .table-wrap{ max-height: calc(100vh - 180px) }
}

/***** FIX HISTORIAL: ancho completo, scroll ok y header OLIVA intacto *****/

/* 1) Asegura que la tabla ocupe todo el ancho dentro de la tarjeta */
#view-log .historial-card .tabla { width: 100%; table-layout: fixed; }

/* 2) Volver a mostrar el encabezado oliva original (nuestros overrides lo tapaban) */
#view-log .tabla.historial thead th{
  background: transparent !important;          /* ← deja ver el ::before oliva */
  border-top: 0 !important;
  border-left: 0 !important;
  border-right: 0 !important;
  border-bottom: 1px solid transparent !important;
  padding: 10px 12px;                           /* espaciamiento consistente */
}
/* reafirmo el color del header oliva (por si otro override lo cambió) */
#view-log thead::before{ background: var(--aside-olive) !important; }

/* 3) Mantener el comportamiento de scroll que ya tenías */
#view-log .historial-card .tabla-scroll{
  max-height: 420px;                            /* como en tu CSS original */
  overflow: auto;
  scrollbar-gutter: stable;
}

/* 4) Alineaciones útiles sin modificar colores ni bordes */
#view-log .tabla.historial th:nth-child(5),
#view-log .tabla.historial td:nth-child(5),     /* Cant. */
#view-log .tabla.historial th:last-child,
#view-log .tabla.historial td:last-child{       /* Total */
  text-align: right;
}

/***** FIX MODAL DE VENTA: grilla correcta, recto y legible *****/

/* El modal global ya está recto; acá SOLO acomodamos la grilla del modal de venta */
#modalVenta .modal-grid{
  grid-template-columns: repeat(3, 1fr) !important;  /* Cliente | Fecha | Tipo */
  gap: 12px;
}
@media (max-width: 860px){
  #modalVenta .modal-grid{ grid-template-columns: 1fr !important; }
}

/* Ancho un poquito mayor para respirar, sin romper viewport */
#modalVenta .modal{
  width: min(920px, 96vw) !important;
}

/* Bloque de productos integrado pero con jerarquía (línea separadora sutil) */
#modalVenta .pedido-items{
  background: #fff !important;
  border: 0 !important;
  padding: 0 !important;
  margin-top: 12px;
  border-top: 1px solid #e9efeb !important;
}
#modalVenta .pedido-items__head{
  padding: 10px 0 !important;
  border: 0 !important;
}
#modalVenta .pedido-items__labels{
  background: #fff !important;
  border: 0 !important;
  padding: 8px 0 6px !important;
  margin: 0 !important;
}

/* Grid de filas claro y plano (sin “cards”) */
#modalVenta .pedido-items__grid{
  grid-template-columns: 2fr 110px 170px 150px 42px !important;
  gap: 10px;
}
#modalVenta .pedido-items__list{ gap: 8px; }
#modalVenta .pedido-item{
  background: transparent !important;
  border: 0 !important;
  border-radius: 0 !important;
  padding: 0 !important;
}
#modalVenta .pedido-item .input{
  height: 38px;
  border-radius: 0;
  background: #fff;
}
#modalVenta .pedido-item input[readonly]{ background:#fff !important; }

/* Totales alineados y planos */
#modalVenta .pedido-items__footer{ padding: 12px 0 0 !important; }
#modalVenta .pedido-total{
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
  font-weight: 600;
}

/* Botón eliminar cuadrado coherente con el resto */
#modalVenta .btn-icon{
  width: 38px; height: 38px;
  border-radius: 0;
  border: 1px solid #e5e5e5;
  background: #fff;
}


/* ==== INICIO: split tabla + panel detalle alineados ==== */
#view-dashboard .dashboard-split{
  display: grid !important;
  grid-template-columns: minmax(0,1fr) 420px; /* tabla | panel derecho */
  gap: 16px;
  align-items: start; /* alinea los bordes superiores */
}

/* La card de pedidos no ocupa todo el ancho (ya no hay columna Cant.) */
#view-dashboard .dashboard-split .pedidos-card{
  margin-top: 0;
  min-width: 0;    /* evita desbordes por celdas largas */
}

/* Panel de detalle como “mini card” alineada con la tabla */
#panelDetalle.dash-detail{
  background: var(--panel);
  border: 1px solid #e6ece7;
  box-shadow: var(--shadow);
  padding: 12px;
  margin-top: 0;
  max-height: 620px;          /* igual que tu tabla-scroll del dashboard */
  overflow: auto;
}

/* Título y meta del panel */
#panelDetalle h3{ margin: 0 0 10px; font-size: 16px; font-weight: 700; }
#panelDetalle #detalleMeta{ color: var(--ink-2); margin-bottom: 6px; }

/* Mini tabla interna del panel — encab. oliva como la principal */
#panelDetalle .mini-detalle{
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: fixed;
  font-size: 0.95rem;
}
#panelDetalle .mini-detalle thead th{
  padding: 10px 12px;
  background: var(--aside-olive);
  color: #1f3b2e;            /* mismo tono que usás en headers */
  font-weight: 600;
}
#panelDetalle .mini-detalle tbody td{
  padding: 10px 12px;
  border-bottom: 1px solid #eef2ef;
  vertical-align: middle;
}
#panelDetalle .mini-detalle th:nth-child(2),
#panelDetalle .mini-detalle td:nth-child(2),
#panelDetalle .mini-detalle th:nth-child(3),
#panelDetalle .mini-detalle td:nth-child(3),
#panelDetalle .mini-detalle th:last-child,
#panelDetalle .mini-detalle td:last-child{
  text-align: right;         /* Cant., Unitario y Subtotal a la derecha */
}

/* Total del panel */
#panelDetalle .total-panel{
  display:flex; justify-content:flex-end; gap: 6px;
  margin-top: 8px; font-weight: 700;
}

/* Responsive: panel debajo de la tabla en notebooks chicos */
@media (max-width: 1280px){
  #view-dashboard .dashboard-split{
    grid-template-columns: 1fr;
  }
  #panelDetalle.dash-detail{
    max-height: none;
  }
}

