
:root{
  --split-gap: 16px;
  --detail-width: 420px;            /* el mismo que us√°s en Pedidos */
}
/* ============ KPIs de Historial: sombras ============ */
#view-log .kpi{
  background:#fff;
  border:1px solid #e6ece7;
  border-radius:10px;
  box-shadow:
  rgba(188, 209, 187, 1) 5px 5px,
  rgba(188, 209, 187, 0.30) 10px 10px,
  rgba(188, 209, 187, 0.20) 15px 15px,
  rgba(188, 209, 187, 0.10) 20px 20px;
}
#view-log .kpi .label{ color:#6b7a73; font-weight:600; }
#view-log .kpi .value{ font-weight:800; font-variant-numeric: tabular-nums; }


/* Responsivo: una sola columna en pantallas chicas */
@media (max-width: 1100px){
  #view-log .dashboard-split{ grid-template-columns: 1fr; }
}

/* Por si alg√∫n estilo previo mete m√°rgenes raros */
#view-log .tabla-card,
#view-log .dash-detail{ margin: 0; }

/* ===================== HISTORIAL (vista #view-log) ===================== */

/* Card de la tabla + scroll */
#view-log .historial-card{
margin-top:20px;
  background:#fff;
  border:0px solid transparent;
  box-shadow:var(--shadow,0 1px 2px rgba(0,0,0,.04));
  border-radius:10px;
  overflow:hidden;
  /*grid-column: 1 / 2 ;*/
  min-width: 0 ;          
  justify-self: stretch ;
}
#view-log .tabla-scroll{ max-height: clamp(360px, calc(100vh - 260px), 530px); overflow:auto; }

#view-log .tabla-scroll::-webkit-scrollbar{ height:10px; width:10px; }
#view-log .tabla-scroll::-webkit-scrollbar-thumb{ background:#dfe7e3; border-radius:0px; }
#view-log .tabla-scroll::-webkit-scrollbar-thumb:hover{ background:#cfdad4; }

/* -------- Tabla principal -------- */
#view-log .tabla.historial{
	box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
  border-collapse:separate;
  border-spacing:0;
  table-layout:fixed;                  /* se adapta si agreg√°s/sac√°s columnas */
  background:#fff;
}
#view-log .tabla.historial thead{ position:sticky; top:0; z-index:3; 
box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;
border:none;}
#view-log .tabla.historial thead th{

  background-image: linear-gradient(to bottom, #bcd1bb, #c2d5c0, #c9d9c4, #cfddc9, #d5e1ce, #d8e3d0, #dae4d3, #dde6d5, #dde6d5, #dde6d5, #dde6d5, #dde6d5);
  color:#000000;
  font-weight:600;
  text-align:left;
  padding:12px 14px;
  border-bottom:0px solid #e6ece7;
  white-space:nowrap;
}
#view-log .tabla.historial tbody td{
  padding:12px 14px;
  border-bottom:1px solid #eef2ef;
  vertical-align:middle;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
#view-log .tabla.historial tbody tr:last-child td{ border-bottom:0; }
#view-log .tabla.historial tbody tr:hover td{ background:#f7fbf8; }

/* Fila vac√≠a */
#view-log .tabla.historial .row-empty td{
  text-align:center; color:#7a8a80; padding:20px 12px;
}

/* ---------- Anchos por columna (fallback si cambi√°s el <colgroup>) ---------- */
/* 1) # */
#view-log .tabla.historial th:nth-child(1),
#view-log .tabla.historial td:nth-child(1){  text-align:left; }
/* 2) Fecha */
#view-log .tabla.historial th:nth-child(2),
#view-log .tabla.historial td:nth-child(2){ text-align:left; }
/* 3) Cliente */
#view-log .tabla.historial th:nth-child(3),
#view-log .tabla.historial td:nth-child(3){ text-align:left;}
/* 4) Producto (vive el bot√≥n) */
#view-log .tabla.historial th:nth-child(4),
#view-log .tabla.historial td:nth-child(4){ text-align:left;}
/* 5) Tipo de venta */
#view-log .tabla.historial th:nth-child(5),
#view-log .tabla.historial td:nth-child(5){ text-align:left; }
/* 6) Total */
#view-log .tabla.historial th:nth-child(6),
#view-log .tabla.historial td:nth-child(6){
   text-align:left; font-variant-numeric:tabular-nums;
}

/* Zebra suave */
#view-log .tabla.historial tbody tr:nth-child(odd) td{ background:#fcfdfc; }

/* ===================== BOT√ìN "VER DETALLE" ===================== */
#view-log .btn-detalle{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 12px;
  border:1px solid #d7e3dc;
  background:#f7fbf8;
  border-radius: 9999px 9999px 9999px 9999px;
  font-weight:600; font-size:13px; line-height:1;
  cursor:pointer; user-select:none;
  transition:transform .06s ease, background .2s ease, box-shadow .2s ease, border-color .2s ease;
  text-decoration:none; color:inherit;
}
#view-log .btn-detalle::before{
  font-family:"Material Symbols Rounded";
  content:"visibility";
  font-size:18px; line-height:1;
}
#view-log .btn-detalle:hover{
  background:#eef6f1; border-color:#cfe1d7;
  box-shadow:0 1px 0 rgba(0,0,0,.03), inset 0 0 0 1px #e6f0ea;
  transform:translateY(-1px);
}
#view-log .btn-detalle:active{ transform:translateY(0); }

/* Si por alguna raz√≥n el HTML trae <button> pelados en la col. 4, maquillalos igual */
#view-log .tabla.historial td:nth-child(4) button:not(.btn-detalle){
  all:unset; display:inline-flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:0px;
  border:1px solid #d7e3dc; background:#f7fbf8; cursor:pointer;
  font:600 13px/1 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
#view-log .tabla.historial td:nth-child(4) button:not(.btn-detalle)::before{
  font-family:"Material Symbols Rounded"; content:"visibility"; font-size:18px;
}

/* ===================== PANEL DERECHO (detalle) ===================== */


#view-log .tabla-card,
#view-log .tabla-scroll,
#view-log .tabla.historial{
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important;
}

#view-log #panelDetalleLog.detalle-card{
  margin-top:20px;
  background:#fff;
  border:0px solid transparent;
  box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em,
              rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em,
              rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
  border-radius:10px;
  padding:12px;
  max-height:620px; overflow:auto;
  font-size:14px;
  line-height:1.35;
  min-width:0;
}

#view-log #panelDetalleLog .card-title{
  margin:2px 0 6px;
  font-weight:700;
  font-size:18px;     /* t√≠tulo claro */
  color:#233127;
}

#view-log #panelDetalleLog .ticket-meta{
  color:#6c7a72;
  font-size:13px;     /* meta legible */
  margin-bottom:10px;
}

/* Tabla mini del detalle */
#view-log .tabla.mini-detalle{
  width:100%;
  border-collapse:separate; border-spacing:0; table-layout:fixed;
  border:0px solid #e6ece7; border-radius:0px; overflow:hidden;
}

#view-log .tabla.mini-detalle thead th{
  background:#f3f7f4; color:#415247; font-weight:600;
  padding:8px 10px;               /* m√°s compacto */
  text-align:left;
  font-size:13px;                 /* header apenas menor */
  letter-spacing:.2px;
}

#view-log .tabla.mini-detalle tbody td{
  padding:8px 10px;               /* m√°s compacto */
  border-top:0px solid #eef2ef;
  overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
  font-size:14px;                 /* cuerpo legible */
  line-height:1.3;
}

/* Alinear n√∫meros (Cant., Unitario, Subtotal) a la derecha y con tabular-nums */
#view-log .tabla.mini-detalle thead th:nth-child(2),
#view-log .tabla.mini-detalle thead th:nth-child(3),
#view-log .tabla.mini-detalle thead th:nth-child(4),
#view-log .tabla.mini-detalle tbody td:nth-child(2),
#view-log .tabla.mini-detalle tbody td:nth-child(3),
#view-log .tabla.mini-detalle tbody td:nth-child(4){
  text-align:right;               /* antes estaba left */
  font-variant-numeric:tabular-nums;
}

/* Separador ticket & total (sin cambios) */
#view-log .ticket-sep{
  margin:12px 0; height:12px;
  background:
    linear-gradient(90deg, #e6ece7 8px, transparent 8px) top/16px 1px no-repeat,
    radial-gradient(6px 6px at 6px 6px, transparent 6px, #fff 7px) left/12px 100% repeat-y,
    radial-gradient(6px 6px at 6px 6px, transparent 6px, #fff 7px) right/12px 100% repeat-y;
  border-top:1px dashed #d9e3dd;
}

#view-log .ticket-total{
  display:flex; justify-content:space-between; align-items:center;
  font-size:16px;                 /* total destacado */
  font-weight:800;
}
#view-log .ticket-total .label{ color:#4a5a50; }
#view-log .ticket-total .value{ font-variant-numeric:tabular-nums; }

/* ===================== INPUTS/TOOLBAR (suave) ===================== */
#view-log .header .input,
#view-log .historial-actions .button-30,
#view-log .header .btn{
  height:36px;
}


/* ===== M√°s padding y aire en el detalle (view-log) ===== */
#view-log #panelDetalleLog.detalle-card{
  padding:16px 18px 14px;   /* antes 12px: m√°s colch√≥n interno */
}

#view-log #panelDetalleLog .card-title{
  margin:0 0 8px;           /* separa t√≠tulo de la meta */
}

#view-log #panelDetalleLog .ticket-meta{
  margin-bottom:12px;       /* separa meta de la tabla */
}

/* Tabla con celdas m√°s c√≥modas y bordes suaves */
#view-log .tabla.mini-detalle{
  border-radius:6px;
  overflow:hidden;
}

#view-log .tabla.mini-detalle thead th{
  padding:10px 14px;        /* +padding horizontal/vertical */
}

#view-log .tabla.mini-detalle tbody td{
  padding:10px 14px;        /* +padding en filas */
  line-height:1.35;
}

/* Separador y total con m√°s respiro */
#view-log .ticket-sep{
  margin:14px 0;            /* m√°s espacio entre tabla y total */
}

#view-log .ticket-total{
  padding:0 2px;            /* leve inset para que no ‚Äúpegue‚Äù al borde */
}

/* === Arreglar corte de "Producto" en Detalle de la venta === */
#view-log .tabla.mini-detalle{
  table-layout:auto;                 /* permite que la 1¬™ col. crezca */
}

#view-log .tabla.mini-detalle th:first-child,
#view-log .tabla.mini-detalle td:first-child{
  white-space:normal;                /* permite salto de l√≠nea */
  overflow:visible;
  text-overflow:clip;
  word-break:break-word;             /* por si hay palabras largas */
}

/* Reparto de ancho orientativo */
#view-log .tabla.mini-detalle th:first-child{ width:54%; }
#view-log .tabla.mini-detalle th:nth-child(2){ width:12%; text-align:right; }
#view-log .tabla.mini-detalle th:nth-child(3){ width:17%; text-align:right; }
#view-log .tabla.mini-detalle th:nth-child(4){ width:17%; text-align:right; }

/* Mantener n√∫meros alineados a la derecha en body */
#view-log .tabla.mini-detalle tbody td:nth-child(2),
#view-log .tabla.mini-detalle tbody td:nth-child(3),
#view-log .tabla.mini-detalle tbody td:nth-child(4){
  text-align:right;
  font-variant-numeric: tabular-nums;
}

/* === Icono eliminar (rojo) === */
:root{
  --danger: #dc2626;        /* rojo base */
  --danger-strong: #b91c1c; /* rojo hover */
}

.col-actions .btn-icon.danger{
  display:inline-flex; align-items:center; justify-content:center;
  width:28px; height:28px;
  background: transparent;
  border: 1px solid transparent;
  color: var(--danger);
  cursor: pointer;
  padding:0;
}

.col-actions .btn-icon.danger .material-symbols-rounded{
  font-variation-settings: 'FILL' 0, 'wght' 500, 'GRAD' 0, 'opsz' 24;
  font-size:20px; line-height:1;
}

.col-actions .btn-icon.danger:hover{
  background: rgba(220, 38, 38, .08);
  border-color: rgba(220, 38, 38, .25);
  color: var(--danger-strong);
}

.col-actions .btn-icon.danger:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(220, 38, 38, .25);
}

.col-actions .btn-icon.danger:active{
  transform: translateY(1px);
}


/* ===== FIX URGENTE: ancho lista + detalle ===== */

/* 1) Estructura del split */
#view-log .split{
  display:grid !important;
  grid-template-columns: minmax(0,1fr) clamp(320px, var(--detail-width, 420px), 560px) !important;
  gap: var(--split-gap, 16px) !important;
  align-items:start;
  width:100% !important;
}

/* 2) La columna izquierda (lista/tabla) debe poder encogerse */
#view-log .split > :first-child{
  min-width:0 !important;      /* üîë sin esto el 1fr no se achica */
  overflow:hidden;              /* por si algo intenta estirar */
}

/* 3) La derecha (detalle) queda fija */
#view-log .split > :last-child{
  flex:0 0 auto;
}

/* 4) Wrapper scrolleable de la tabla */
#view-log .table-wrap{
  min-width:0 !important;
  width:100% !important;
  overflow:auto;
}

/* 5) La tabla ocupa 100% s√≠ o s√≠ */
#view-log table{
  width:100% !important;
  table-layout: fixed;          /* columnas estables */
  border-collapse:separate;
  border-spacing:0;
}

/* 6) Evitar que contenido ‚Äúrompa‚Äù el ancho */
#view-log th, #view-log td{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* 7) Por si el contenedor era flex en vez de grid */
#view-log .split.is-flex{       /* solo si le pon√©s esta clase */
  display:flex !important;
}
#view-log .split.is-flex > :first-child{
  flex:1 1 0% !important;
  min-width:0 !important;
}
#view-log .split.is-flex > :last-child{
  flex:0 0 var(--detail-width, 420px) !important;
}



/* üìê Media query para pantallas 1366x768 */
@media (max-width: 1366px), (max-height: 768px) {
	
	#view-log .btn-detalle {
    padding: 2px 6px;
    font-size: 10px;
    gap: 6px;
  }

  #view-log .btn-detalle::before {
    font-size: 16px;
  }
  #view-log .kpi {
    box-shadow:
  rgba(48, 90, 70, 0.40) 5px 5px,
  rgba(48, 90, 70, 0.30) 10px 10px,
  rgba(48, 90, 70, 0.20) 15px 15px,
  rgba(48, 90, 70, 0.10) 20px 20px;
    padding: 10px;
    margin: 8px 0;
  }

  #view-log .kpi .label {
    font-size: 13px;
  }

  #view-log .kpi .value {
    font-size: 15px;
  }
  
  #view-log .tabla.historial{ 
  border-collapse: collapse;
  border-spacing: 0;
  }
  
  #view-log .tabla.historial thead{ position:sticky; top:0; z-index:3;}
	#view-log .tabla.historial thead th{font-size: 12px; padding: 8px 10px;}
  
  /* Orden: Cliente, Producto, Fecha, Estado, Total, Acciones */
  #view-log .tabla.historial col:nth-child(1){ width:116px !important; }           /* Cliente */
  #view-log .tabla.historial col:nth-child(2){ width:139px!important; }           /* Producto */
  #view-log .tabla.historial col:nth-child(3){ width:123px !important; }           /* Fecha */
  #view-log .tabla.historial col:nth-child(4){ width:123px !important; }           /* Estado */
  #view-log .tabla.historial col:nth-child(5){ width:139px!important; }           /* Total */
  #view-log .tabla.historial col:nth-child(6){ width:56px !important; }           /* Acciones */
  
  #view-log .historial-card .tabla-scroll{ max-height: 440px; overflow:auto; }
  
	#view-log .tabla.historial td:last-child{
   text-align:left; font-variant-numeric:tabular-nums;}
  
    /* Tabla: fuente y paddings m√°s compactos */
  #view-log .tabla.historial{ font-size: 10px; table-layout: fixed; }
  #view-log .tabla.historial tbody td{ padding: 8px 10px; font-size: 11px; }
}

/* ===== Adaptaciones espec√≠ficas para 1366√ó768 ===== */
@media  (max-width:1366px), (max-height:768px) {
	
	
  /* Panel: m√°s acolchado y scroll controlado */
  #view-log #panelDetalleLog.detalle-card{
    padding:14px;
    max-height: calc(100vh - 160px);
    font-size:13px;
    line-height:1.32;
    min-width:0;
    max-width:100%;
    overflow:auto;
    border-radius: 10px;
  }

  /* T√≠tulo y meta compactos */
  #view-log #panelDetalleLog .card-title{
    font-size:16px;
    margin:0 0 6px;
  }
  #view-log #panelDetalleLog .ticket-meta{
    font-size:12px;
    margin-bottom:10px;
  }

  /* Mini tabla: paddings y fuentes algo menores para ahorrar ancho */
  #view-log .tabla.mini-detalle{
    border-radius:6px;
    table-layout:auto; /* permitir que 1¬™ columna crezca cuando convenga */
  }
  #view-log .tabla.mini-detalle thead th{
    padding:8px 10px;
    font-size:12px;
  }
  #view-log .tabla.mini-detalle tbody td{
    padding:8px 10px;
    font-size:13px;
    line-height:1.32;
    white-space:nowrap;
    text-overflow:ellipsis;
    overflow:hidden;
  }

  /* Producto: permitir salto de l√≠nea dentro de l√≠mites */
  #view-log .tabla.mini-detalle th:first-child,
  #view-log .tabla.mini-detalle td:first-child{
    white-space:normal;
    word-break:break-word;
    overflow-wrap:break-word;
    max-width:100%;
  }

  /* Ajuste de reparto de ancho para evitar compresi√≥n excesiva */
  #view-log .tabla.mini-detalle th:first-child{ width:56%; }
  #view-log .tabla.mini-detalle th:nth-child(2){ width:11%; }
  #view-log .tabla.mini-detalle th:nth-child(3){ width:16%; }
  #view-log .tabla.mini-detalle th:nth-child(4){ width:17%; }

  /* N√∫meros: tama√±o y tabular-nums */
  #view-log .tabla.mini-detalle thead th:nth-child(2),
  #view-log .tabla.mini-detalle thead th:nth-child(3),
  #view-log .tabla.mini-detalle thead th:nth-child(4),
  #view-log .tabla.mini-detalle tbody td:nth-child(2),
  #view-log .tabla.mini-detalle tbody td:nth-child(3),
  #view-log .tabla.mini-detalle tbody td:nth-child(4){
    font-size:13px;
    text-align:right;
    font-variant-numeric: tabular-nums;
  }

  /* Espa spacing separador/total */
  #view-log .ticket-sep{ margin:12px 0; height:10px; }
  #view-log .ticket-total{ font-size:15px; padding:0 2px; gap:8px; }
  #view-log .ticket-total .label{ font-size:14px; }
  #view-log .ticket-total .value{ font-size:15px; }

  /* Inputs y toolbar m√°s consistentes */
  #view-log .header .input,
  #view-log .historial-actions .button-30,
  #view-log .header .btn{
    height:34px;
  }

  /* Split: asegurar detalle con clamp y que la lista pueda encogerse */
  #view-log .split{
    grid-template-columns: minmax(0, 1fr) clamp(320px, var(--detail-width,420px), 480px) !important;
    gap: var(--split-gap, 14px) !important;
  }
  #view-log .split > :first-child{ min-width:0 !important; overflow:hidden; }
  #view-log .split > :last-child{ min-width:0; max-width:480px; box-sizing:border-box; }

  /* Table-wrap: limitar altura y permitir scroll vertical */
  #view-log .table-wrap{
    overflow:auto;
    max-height: calc(100vh - 200px);
  }

  /* Forzar que tabla no rompa layout */
  #view-log table{ table-layout: fixed; width:100% !important; }
  #view-log th, #view-log td{
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }

  /* Si hay campos largos (botones/acciones) truncarlos visualmente */
  #view-log .tabla.mini-detalle button,
  #view-log .tabla.mini-detalle .btn,
  #view-log .tabla.mini-detalle .button-30{
    max-width:100%;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
  }

  /* Fallback: si aun as√≠ el contenido no entra, permitir scroll-x solo en el wrapper */
  #view-log .table-wrap.force-x{ overflow-x:auto; }

  /* Asegurar que el panel no empuje horizontalmente */
  #view-log #panelDetalleLog.detalle-card{ min-width:0; max-width:100%; overflow:auto; }
}
